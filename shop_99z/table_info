-- member
create table member (
    memId varchar2(50) not null,
    memPass varchar2(100) not null,
    memName varchar2(30) not null,
    memPhone varchar2(20) not null,
    memAddr1 varchar2(20) null,
    memAddr2 varchar2(50) null,
    memAddr3 varchar2(50) null,
    regDate date default sysdate,
    verify number default 0,
    primary key(memId)
);

-- 상품 1차 분류
CREATE TABLE goods (
    gdsNum       number          not null,
    gdsName      varchar2(50)    not null,
    cateCode     varchar2(30)    not null,
    gdsPrice     number          not null,
    gdsStock     number          null,
    gdsinfo       varchar(500)    null,
    gdsImg       varchar(200)    null,
    gdsDate      date            default sysdate,
    primary key(gdsNum)  
);

-- 상품 2차 분류
CREATE table goods_category (
    cateName     varchar2(20)    not null,
    cateCode     varchar2(30)    not null,
    cateCodeRef  varchar2(30)    null,
    primary key(cateCode),
    foreign key(cateCodeRef) references goods_category(cateCode)
);

-- goods_category query
-- alter table [ 테이블 이름 ] add
--     constraint [ 제약조건 이름 ]
--     foreign key ([ 참조할 컬럼 이름 ])
--         references [ 참조되는 테이블 이름 ]([ 참조되는 컬럼 이름 ]);

ALTER TABLE goods add
    constraint fk_goods_category
    foreign key (cateCode)
        references goods_category(cateCode);